<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue-Demo-Collection</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="A documentation of the excellent components encountered in VUE development">
    
    <link rel="preload" href="/vue-demo-collection/assets/css/0.styles.41da42df.css" as="style"><link rel="preload" href="/vue-demo-collection/assets/js/app.f5b96e8e.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/7.ac4e68a0.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/36.18bacde9.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/17.4daaa688.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/2.2d5faf37.js" as="script"><link rel="prefetch" href="/vue-demo-collection/assets/js/1.2e2b4322.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/10.6fe83197.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/11.607bf541.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/12.240a3ba2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/13.5f3ec41a.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/14.c64dd16f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/15.04283614.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/16.833af79b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/18.088bf1a8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/19.b9758386.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/20.3b799ac1.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/21.ac51364b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/22.c44a5a8f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/23.75b8ffb8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/24.7553e43b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/25.cd523bbf.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/26.b58a03fa.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/27.e4741fa3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/28.9dbdb2e3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/29.1c444fa8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/3.da5e3f9c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/30.d656d726.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/31.ae9630e4.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/32.8a6fd8e6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/33.877edd59.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/34.a357b142.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/35.2d0c38e2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/37.186a837c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/38.f2fc3138.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/39.dabd2123.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/4.20b3f9b2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/40.c511b4c2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/41.4cad3d23.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/42.9136ea93.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/43.9678c4e1.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/44.09158630.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/45.76503459.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/46.756f2a47.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/47.fa58ae45.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/48.9b745272.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/49.d1bf558f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/5.90b8032d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/50.ac5f466d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/51.38a211b6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/52.960e4db6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/53.73267aeb.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/54.434a97c0.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/55.57400b27.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/56.e828cd7c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/57.794280cf.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/58.e0e41a13.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/59.374c4057.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/60.a292140c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/61.d6e64963.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/62.951cb72d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/63.ab7ebef5.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/64.ea299191.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/65.35bb57b8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/66.96b69f7d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/67.9f43214c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/68.acad029f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/69.4dd36d2f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/70.8514f7a6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/71.a1e6d21e.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/72.85e4760a.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/73.82d83fb8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/74.94a16f58.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/75.c1fdfff9.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/76.6dbd6ea2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/77.431a65f0.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/78.ffce0429.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/79.a8b30c75.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/8.7b37b1dc.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/80.c5fc458b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/81.294e85c3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/9.7075ed80.js">
    <link rel="stylesheet" href="/vue-demo-collection/assets/css/0.styles.41da42df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-demo-collection/" class="home-link router-link-active"><img src="/vue-demo-collection/logo.png" alt="Vue-Demo-Collection" class="logo"> <span class="site-name can-hide">Vue-Demo-Collection</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-demo-collection/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vue-demo-collection/base/" class="nav-link router-link-active">
  组件
</a></div><div class="nav-item"><a href="/vue-demo-collection/note/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vue-demo-collection/essays/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Gesj-yean/vue-demo-collection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-demo-collection/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vue-demo-collection/base/" class="nav-link router-link-active">
  组件
</a></div><div class="nav-item"><a href="/vue-demo-collection/note/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vue-demo-collection/essays/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Gesj-yean/vue-demo-collection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vue-demo-collection/base/" class="sidebar-heading clickable router-link-active open"><span>Vue 组件</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-demo-collection/base/component/breadcrumb.html" class="sidebar-link">面包屑 Breadcrumb</a></li><li><a href="/vue-demo-collection/base/component/dialog.html" class="sidebar-link">对话框 Dialog</a></li><li><a href="/vue-demo-collection/base/component/pagination.html" class="sidebar-link">分页器 Pagination</a></li><li><a href="/vue-demo-collection/base/component/slider.html" class="sidebar-link">轮播图 Slider</a></li><li><a href="/vue-demo-collection/base/component/scroll.html" class="sidebar-link">无滚动条组件 Scroll</a></li><li><a href="/vue-demo-collection/base/component/tree.html" class="sidebar-link">树形控件 Tree (Vue递归组件)</a></li><li><a href="/vue-demo-collection/base/component/star.html" class="sidebar-link">评分组件 Rating</a></li><li><a href="/vue-demo-collection/base/component/banner.html" class="sidebar-link">横向滚动通知栏 Banner</a></li><li><a href="/vue-demo-collection/base/component/price-input.html" class="sidebar-link">表单金额输入框（element-ui）PriceInput</a></li><li><a href="/vue-demo-collection/base/component/cascader.html" aria-current="page" class="active sidebar-link">级联选择器（element-ui）Cascader</a></li><li><a href="/vue-demo-collection/base/component/loading-btn.html" class="sidebar-link">加载按钮 LoadingButton</a></li><li><a href="/vue-demo-collection/base/component/table-pagination.html" class="sidebar-link">表格-分页器 TablePagination</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue-demo-collection/base/directive" class="sidebar-heading clickable"><span>Vue 指令</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue-demo-collection/base/echart" class="sidebar-heading clickable"><span>Echarts </span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>先来对比使用一下：
<div class="cascader-wrapper" data-v-ad4defc0><div class="demonstration" data-v-ad4defc0>多选可搜索<br data-v-ad4defc0><div class="el-cascader" data-v-ad4defc0><div class="el-input el-input--suffix"><!----><input type="text" readonly="readonly" autocomplete="off" placeholder="试试搜索：指南" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-input__icon el-icon-arrow-down"></i><!----><!----><!----><!----></span><!----></span><!----><!----></div><div class="el-cascader__tags"><input type="text" placeholder="试试搜索：指南" class="el-cascader__search-input"></div><div class="el-popper el-cascader__dropdown" style="display:none;"><div class="el-cascader-panel"><div role="menu" id="cascader-menu-323-0" class="el-scrollbar el-cascader-menu"><div class="el-cascader-menu__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-cascader-menu__list"><li role="menuitem" id="cascader-menu-323-0-0" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-323-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span><input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span><!----></label><span class="el-cascader-node__label">指南</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li><li role="menuitem" id="cascader-menu-323-0-1" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-323-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span><input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span><!----></label><span class="el-cascader-node__label">组件</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li><li role="menuitem" id="cascader-menu-323-0-2" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-323-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span><input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span><!----></label><span class="el-cascader-node__label">资源</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div><div class="el-cascader__suggestion-panel el-scrollbar" style="display:none;"><div class="el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-cascader__suggestion-list"><li class="el-cascader__empty-text">无匹配数据</li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div><div class="demonstration" data-v-ad4defc0>优化版：多选可搜索<br data-v-ad4defc0><div class="mb-200 el-cascader" data-v-58074608 data-v-ad4defc0><div class="el-input el-input--suffix" data-v-58074608><!----> <input type="text" readonly="readonly" autocomplete="off" placeholder="试试搜索：指南" class="el-input__inner"> <!----> <span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-input__icon el-icon-arrow-down" data-v-58074608></i> <!----> <!----> <!----> <!----></span> <!----></span> <!----> <!----></div> <div class="el-cascader__tags" data-v-58074608><div class="el-cascader__tags_scroll" data-v-58074608></div> <input placeholder="试试搜索：指南" type="text" class="el-cascader__search-input" data-v-58074608></div> <div class="el-popper el-cascader__dropdown" style="display:none;" data-v-58074608 data-v-58074608><div class="el-cascader-panel" data-v-58074608><div role="menu" id="cascader-menu-4729-0" class="el-scrollbar el-cascader-menu"><div class="el-cascader-menu__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-cascader-menu__list"><li role="menuitem" id="cascader-menu-4729-0-0" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-4729-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span> <input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span> <!----></label><span class="el-cascader-node__label">指南</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li><li role="menuitem" id="cascader-menu-4729-0-1" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-4729-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span> <input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span> <!----></label><span class="el-cascader-node__label">组件</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li><li role="menuitem" id="cascader-menu-4729-0-2" tabindex="-1" aria-haspopup="true" aria-owns="cascader-menu-4729-0" class="el-cascader-node"><label class="el-checkbox"><span class="el-checkbox__input"><span class="el-checkbox__inner"></span> <input type="checkbox" aria-hidden="false" class="el-checkbox__original"></span> <!----></label><span class="el-cascader-node__label">资源</span><i class="el-icon-arrow-right el-cascader-node__postfix"></i></li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div> <div class="el-cascader__suggestion-panel el-scrollbar" style="display:none;" data-v-58074608><div class="el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-cascader__suggestion-list"><li class="el-cascader__empty-text" data-v-58074608>
            无匹配数据
          </li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></p> <p>在 element-ui 中，它提供的多选可搜索级联组件有一个问题：当用户选中全部子节点时不会合并为显示父节点。并且我想要级联看板一直展开。</p> <p>要想完成这个功能，在经历过上述步骤一番探索后发现还是要修改源码才能完成。于是我基于原本多选可搜索的级联选择器，进行以下优化。</p> <p>优化后的组件使用方法与原本还是一样：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template lang=&quot;pug&quot;&gt;
  cascader.mb-200(
      ref=&quot;cascader&quot;,
      :options=&quot;options&quot;,
      placeholder=&quot;试试搜索：指南&quot;
      :props=`{ multiple: true }`
      filterable
      clearable
      @change=&quot;changecascader&quot;
      @visible-change=&quot;visibleChange&quot;)
&lt;/template&gt;

&lt;style lang=&quot;less&quot; scoped&gt;
.mb-200 {
  margin-bottom:200
}
&lt;/style&gt;

</code></pre></div><p>基于原本 <code>element-ui</code> 的多选可搜索的级联选择器，进行以下四点的优化：</p> <ul><li>默认看到级联看板展开，不会收起。需要找到源码中控制级联看板展开的方法，并在合适的时机触发。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>@blur=&quot;blurCascader(true)&quot; // 无法触发

@visible-change=&quot;blurCascader(true)&quot; // 可触发

// 失焦后触发展开级联看板（默认失焦后关闭看板）

blurCascader(e) {
    this.$nextTick(() =&gt; {
        // 调用组件内部的方法
        this.$refs.cascader.toggleDropDownVisible(e)
    })
},
</code></pre></div><ul><li>搜索选中后展示级联看板，并勾选搜索选中的节点</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 响应选中的节点，选中节点后关闭选择看板，展示级联看板
changecascader(e) {
  this.$refs.cascader.handleDropdownLeave()
},
</code></pre></div><ul><li>修改：当子级节点全部选中后，<code>tag</code> 只展示一个父级节点，而不是全部子节点</li></ul> <p>用 <code>presentFormatTags</code> 替换原本 <code>presentTags</code>，展示 <code>tag</code></p> <div class="language- extra-class"><pre class="language-text"><code>// 获取所有勾选的节点
getPresetTags() {
  const tree = this.panel.menus[0]
  const result = []
  loop(tree)
  // 递归查找被勾选的节点
  function loop(tree = []) {
    for (let i = 0; i &lt; tree.length; i++) {
      const child = tree[i]
      // checked表示勾选状态
      if (child.checked) {
        result.push({ ...child, closable: true })
      } else if (child.indeterminate) {
        // indeterminate表示半选中状态
        child.children &amp;&amp; loop(child.children)
      }
    }
  }
  // presentFormatTags 是由完全勾选的节点组成，由此生成 tag
  this.presentFormatTags = result
},
</code></pre></div><ul><li>关于节点的删除：由于修改了标签的展示，需要重写 <code>tag</code> 的删除方法。修改原 <code>deleteTag</code> 方法如下：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>deleteTag(index, tag) {
  let _ = this
  if (tag &amp;&amp; tag.hasChildren) {
    // 父节点tag删除时，需要将其所有的子节点删除
    loop(tag.children)
    function loop(list) {
      for (let i = 0; i &lt; list.length; i++) {
        if (list[i].hasChildren) {
          loop(list[i].children)
        } else {
          _.checkedValue = _.checkedValue.filter(n =&gt; n !== list[i].path)
          _.$emit('remove-tag', tag)
        }
      }
    }
  } else if (tag) {
    // 如果是子节点直接删除这个节点
    this.checkedValue = this.checkedValue.filter((n, i) =&gt; n !== tag.path)
    this.$emit('remove-tag', tag)
  } else {
    // 利用输入框回车键删除
    const temp = this.presentFormatTags[this.presentFormatTags.length - 1]
    temp &amp;&amp; this.deleteTag(null, temp)
  }

  // 原本代码
  // const { checkedValue } = this
  // const val = checkedValue[index]
  // this.checkedValue = checkedValue.filter((n, i) =&gt; i !== index)
  // this.$emit('remove-tag', val)
},
</code></pre></div><p>源码于<a href="https://github.com/Gesj-yean/vue-demo-collection/tree/master/docs/.vuepress/components/cascader" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/21/2022, 5:24:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-demo-collection/base/component/price-input.html" class="prev">
        表单金额输入框（element-ui）PriceInput
      </a></span> <span class="next"><a href="/vue-demo-collection/base/component/loading-btn.html">
        加载按钮 LoadingButton
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-demo-collection/assets/js/app.f5b96e8e.js" defer></script><script src="/vue-demo-collection/assets/js/7.ac4e68a0.js" defer></script><script src="/vue-demo-collection/assets/js/36.18bacde9.js" defer></script><script src="/vue-demo-collection/assets/js/17.4daaa688.js" defer></script><script src="/vue-demo-collection/assets/js/2.2d5faf37.js" defer></script>
  </body>
</html>
