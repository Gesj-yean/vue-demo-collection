(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{709:function(n,t,e){"use strict";e.r(t);var i=e(58),a=Object(i.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"基于vue的dialog对话框组件的实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于vue的dialog对话框组件的实现"}},[n._v("#")]),n._v(" 基于Vue的Dialog对话框组件的实现")]),n._v(" "),e("p",[n._v("今天来实现一个基础的对话框组件~")]),n._v(" "),e("h2",{attrs:{id:"演示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[n._v("#")]),n._v(" 演示")]),n._v(" "),e("ul",[e("li",[n._v("点击open按钮打开对话框")]),n._v(" "),e("li",[n._v("点击取消在控制台打印出“已取消”，并关闭对话框")]),n._v(" "),e("li",[n._v("点击确定在控制台打印出“已确定”，并关闭对话框\n"),e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200224135832701.png",alt:"在这里插入图片描述"}})])]),n._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[n._v("#")]),n._v(" API")]),n._v(" "),e("ul",[e("li",[n._v("mask：控制是否展示遮罩")]),n._v(" "),e("li",[n._v("info：对话框显示内容")]),n._v(" "),e("li",[n._v("icon：对话框提示图标，有success，error，info，question可选")]),n._v(" "),e("li",[n._v("cancelText：设置取消按钮文字")]),n._v(" "),e("li",[n._v("okText：设置确认按钮文字")])]),n._v(" "),e("h2",{attrs:{id:"事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[n._v("#")]),n._v(" 事件")]),n._v(" "),e("ul",[e("li",[n._v("cancel：取消按钮的回调")]),n._v(" "),e("li",[n._v("ok：点击确定回调")])]),n._v(" "),e("h2",{attrs:{id:"基础组件dialog-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础组件dialog-vue"}},[n._v("#")]),n._v(" 基础组件dialog.vue")]),n._v(" "),e("p",[n._v("说明：在dialog组件最外层div上设置@click.stop是为了防止事件冒泡触发上层点击事件。 用require引入图片，否则在编译后是找不到图片的。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('<template>\n  <div class="shadow-wrapper" v-if="visible" @click.stop ref="mask">\x3c!-- 遮罩层 --\x3e\n    <div class="dialog-wrapper">                                    \x3c!-- 对话框 --\x3e\n      <div class="info-wrapper">                                    \x3c!-- 对话框内容部分 --\x3e\n        <img class="icon" :src="require(`../common/images/${icon}-circle.png`)">\n        <div class="text">{{info}}</div>\n      </div>\n      <div class="btn-wrapper">                                     \x3c!-- 对话框按钮部分 --\x3e\n        <div class="btn" @click="onCancel">{{cancelText}}</div>\n        <div class="btn" @click="onOk">{{okText}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script type=\'text/ecmascript-6\'>\nexport default {\n  props: {\n    mask: { /* 控制遮罩 */\n      type: Boolean,\n      default: false\n    },\n    icon: { /* 图标类型 */\n      type: String,\n      default: \'info\'\n    },\n    info: { /* 文字内容 */\n      type: String,\n      default: \'内容\'\n    },\n    cancelText: { /* 取消按钮文字 */\n      type: String,\n      default: \'\'\n    },\n    okText: { /* 确认按钮文字 */\n      type: String,\n      default: \'\'\n    }\n  },\n  data () {\n    return {\n      visible: true /* 控制对话框显示 */\n    }\n  },\n  mounted () {\n    setTimeout(() => { /* 确保能获取到mask修改其背景属性 */\n      if (this.mask) {\n        this.$refs.mask.style.background = \'rgba(0,0,0,.3)\'\n      }\n    }, 20)\n  },\n  methods: {\n    show () { /* 打开对话框 */\n      this.visible = true\n    },\n    hidden () { /* 关闭对话框 */\n      this.visible = false\n    },\n    onCancel () { /* 点击取消 */\n      this.$emit(\'cancel\')\n      this.hidden()\n    },\n    onOk () { /* 点击确认 */\n      this.$emit(\'ok\')\n      this.hidden()\n    }\n  }\n}\n<\/script>\n\n<style lang="stylus">\n.shadow-wrapper                   /* 覆盖整个页面 */\n  position absolute\n  top 0\n  left 0\n  height 100%\n  width 100%\n  .dialog-wrapper                  /* 垂直居中 */\n    position relative\n    top 50%\n    left 50%\n    transform translate(-50%, -50%)\n    width 220px\n    background #ffffff\n    border solid 1px #ccc\n    border-radius 10px\n    box-shadow 0 0 5px #ccc\n    color #777777\n    .info-wrapper\n      min-height 80px              /* dialog随内容撑开高度 */\n      text-align center\n      font-weight bold\n      margin-bottom 50px\n      .icon\n        margin-top 10px\n        height 30px\n        width 30px\n      .text\n        line-height 30px\n        color #666\n    .btn-wrapper\n      position absolute\n      display flex\n      height 40px\n      width 100%\n      bottom 0\n      .btn\n        flex 1\n        text-align center\n        line-height 40px\n        border-top 1px solid #ccc\n        &:first-of-type\n          border-right 1px solid #ccc\n</style>\n\n')])])]),e("h2",{attrs:{id:"应用组件dialog-apply-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用组件dialog-apply-vue"}},[n._v("#")]),n._v(" 应用组件dialog-apply.vue")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('<template>\n  <div class="dia-apply" @click="isclick">\n    <div class="operation">\n      <div class="btn" @click="open">open</div>\n    </div>\n    <Dialog ref="dialog"\n            :info="info"\n            :icon="icon"\n            :mask="mask"\n            :cancelText="cancelText"\n            :okText="okText"\n            @cancel="onCancel"\n            @ok="onOk"\n    ></Dialog>\n  </div>\n</template>\n\n<script type=\'text/ecmascript-6\'>\nimport Dialog from \'base/dialog\'\nexport default {\n  data () {\n    return {\n      info: \'确定要删除此项吗？\',\n      icon: \'question\',\n      cancelText: \'取消\',\n      okText: \'确定\',\n      mask: true\n    }\n  },\n  methods: {\n    open () {\n      this.$refs.dialog.show()\n    },\n    close () {\n      this.$refs.dialog.hidden()\n    },\n    onCancel () {\n      console.log(\'已取消\')\n    },\n    onOk () {\n      console.log(\'已确定\')\n    },\n    isclick () { /* 测试是否冒泡 */\n      console.log(\'事件冒泡啦\')\n    }\n  },\n  components: {\n    Dialog\n  }\n}\n<\/script>\n\n<style lang="stylus">\n@import \'../common/stylus/base.styl\'\n.dia-apply\n  position relative\n  margin 0 auto\n  height 500px\n  width 280px\n  overflow hidden\n  border 2px solid #ddd\n  border-radius 10px\n  .operation\n    position absolute\n    top 0\n    left 0\n    .btn\n      height 20px\n      width 100px\n      text-align center\n      line-height 20px\n      margin 10px\n      color $color-highlight\n      border 1px solid $color-highlight\n      border-radius 5px\n</style>\n\n')])])])])}),[],!1,null,null,null);t.default=a.exports}}]);