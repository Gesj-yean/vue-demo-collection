(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{736:function(t,s,a){"use strict";a.r(s);var n=a(58),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"flex实现中间文字-两边横线-1px"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flex实现中间文字-两边横线-1px"}},[t._v("#")]),t._v(" flex实现中间文字，两边横线（1px）")]),t._v(" "),a("p",[t._v("学习了实现1px边框的实现方法。迫不及待的想要记录一下。顺便利用flex布局+1px边框实现一个 简单的中间文字，两边横线的组件。")]),t._v(" "),a("h2",{attrs:{id:"演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[t._v("#")]),t._v(" 演示")]),t._v(" "),a("p",[t._v("首先来看组件的需求：")]),t._v(" "),a("ul",[a("li",[t._v("左右两边的横线在移动端显示为1px。")]),t._v(" "),a("li",[t._v("中间内容部分可以随意传入文字内容。")]),t._v(" "),a("li",[t._v("同时不论文字的多少，两边的横线会随着内容增大而减小，直到内容占据的最大宽度为40%。\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200224175207994.png",alt:"在这里插入图片描述"}}),t._v("\n根据以上需求，我们来制定步骤。")])]),t._v(" "),a("h2",{attrs:{id:"_1px边框实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1px边框实现"}},[t._v("#")]),t._v(" 1px边框实现")]),t._v(" "),a("h3",{attrs:{id:"mixin-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mixin-styl"}},[t._v("#")]),t._v(" mixin.styl")]),t._v(" "),a("p",[t._v("首先在mixin.styl中定义一个方法border-1px。此时宽度在drp为1.5的设备下显示的是1.5px。 在dpr为2的设备下显示的是2px。接下来要在base.styl中设置缩放才能真正实现1px。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("no-wrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" //  文字超出省略\n  text-overflow ellipsis\n  overflow hidden\n  white-space nowrap\n\nborder-1px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" // 底部1px的边框，可传入颜色\n  position: relative\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("::after \n    display block\n    position absolute\n    left "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    bottom "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    width "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%\n    border-top 1px solid "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$color")]),t._v("\n    content "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v("\n")])])]),a("h3",{attrs:{id:"base-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#base-styl"}},[t._v("#")]),t._v(" base.styl")]),t._v(" "),a("p",[t._v("在base.styl下，查询设备dpr。再乘以缩放倍数使其达到1px的效果。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("@media "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-webkit-min-device-pixel-ratio: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min-device-pixel-ratio: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    .border-1px\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("::after\n            -webkit-transform scaleY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            transform scaleY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n@media "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-webkit-min-device-pixel-ratio: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("min-device-pixel-ratio: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    .border-1px\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("::after\n            -webkit-transform scaleY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            transform scaleY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"基础组件-line-text-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础组件-line-text-vue"}},[t._v("#")]),t._v(" 基础组件：line-text.vue")]),t._v(" "),a("p",[t._v("这里利用了flex布局的flex-shrink属性，当flex-shrink为1表示能够被压缩，所以设置横线部分的该属性为1， 同理，内容层应该被撑起宽度，直到40%。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"box-wrapper"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 外层 --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"left border-1px"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 左侧横线 --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 内容文字 --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"right border-1px"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 右侧横线 --"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/ecmascript-6'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    content: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" /* 根据外部传入的content显示内容 */\n      type: String,\n      default: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载中加载中加载中加载中加载中加载中加载中加载中加载中。。。'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylus"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n@import "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../common/stylus/mixin'")]),t._v("\n.box-wrapper\n  display flex                    /* 外层设置flex布局 */\n  width "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("%                      /* 宽度100% */\n  height 50px                     /* 高度50px，可自定义 */\n  overflow hidden                 /* 超出隐藏 */\n  .left, .right\n    flex-shrink "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                 /* 横线设置为可压缩 */\n    width "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),t._v("%                     /* 初始时横线宽度 */\n    margin "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 10px\n    transform translate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(", -50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  /* 向上偏移50% */\n    border-1px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ccc)              /* mixin.styl中定义的border-1px方法 */")]),t._v("\n  .text\n    flex-shrink "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("                 /* 内容设置为不可压缩 */\n    text-align center\n    line-height 50px\n    max-width "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("%\n    no-wrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                     /* 文字超出省略 */\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"应用组件-line-text-apply-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用组件-line-text-apply-vue"}},[t._v("#")]),t._v(" 应用组件：line-text-apply.vue")]),t._v(" "),a("p",[t._v("示例如何将该组件放入应用组件中，传入的内容将被显示：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("LineText :content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/LineText"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/ecmascript-6'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" LineText from "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'base/line-text'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      content: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'未完待续'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  components: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    LineText\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);