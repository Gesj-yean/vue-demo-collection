<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VuePress 开发个人博客进阶之自定义主题 | Vue-Demo-Collection</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="A documentation of the excellent components encountered in VUE development">
    
    <link rel="preload" href="/vue-demo-collection/assets/css/0.styles.41da42df.css" as="style"><link rel="preload" href="/vue-demo-collection/assets/js/app.f5b96e8e.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/7.ac4e68a0.js" as="script"><link rel="preload" href="/vue-demo-collection/assets/js/62.951cb72d.js" as="script"><link rel="prefetch" href="/vue-demo-collection/assets/js/1.2e2b4322.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/10.6fe83197.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/11.607bf541.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/12.240a3ba2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/13.5f3ec41a.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/14.c64dd16f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/15.04283614.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/16.833af79b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/17.4daaa688.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/18.088bf1a8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/19.b9758386.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/2.2d5faf37.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/20.3b799ac1.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/21.ac51364b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/22.c44a5a8f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/23.75b8ffb8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/24.7553e43b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/25.cd523bbf.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/26.b58a03fa.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/27.e4741fa3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/28.9dbdb2e3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/29.1c444fa8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/3.da5e3f9c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/30.d656d726.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/31.ae9630e4.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/32.8a6fd8e6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/33.877edd59.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/34.a357b142.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/35.2d0c38e2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/36.18bacde9.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/37.186a837c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/38.f2fc3138.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/39.dabd2123.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/4.20b3f9b2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/40.c511b4c2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/41.4cad3d23.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/42.9136ea93.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/43.9678c4e1.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/44.09158630.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/45.76503459.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/46.756f2a47.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/47.fa58ae45.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/48.9b745272.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/49.d1bf558f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/5.90b8032d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/50.ac5f466d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/51.38a211b6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/52.960e4db6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/53.73267aeb.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/54.434a97c0.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/55.57400b27.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/56.e828cd7c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/57.794280cf.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/58.e0e41a13.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/59.374c4057.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/60.a292140c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/61.d6e64963.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/63.ab7ebef5.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/64.ea299191.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/65.35bb57b8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/66.96b69f7d.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/67.9f43214c.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/68.acad029f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/69.4dd36d2f.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/70.8514f7a6.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/71.a1e6d21e.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/72.85e4760a.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/73.82d83fb8.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/74.94a16f58.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/75.c1fdfff9.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/76.6dbd6ea2.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/77.431a65f0.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/78.ffce0429.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/79.a8b30c75.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/8.7b37b1dc.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/80.c5fc458b.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/81.294e85c3.js"><link rel="prefetch" href="/vue-demo-collection/assets/js/9.7075ed80.js">
    <link rel="stylesheet" href="/vue-demo-collection/assets/css/0.styles.41da42df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-demo-collection/" class="home-link router-link-active"><img src="/vue-demo-collection/logo.png" alt="Vue-Demo-Collection" class="logo"> <span class="site-name can-hide">Vue-Demo-Collection</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-demo-collection/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vue-demo-collection/base/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/vue-demo-collection/note/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vue-demo-collection/essays/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Gesj-yean/vue-demo-collection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-demo-collection/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vue-demo-collection/base/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/vue-demo-collection/note/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vue-demo-collection/essays/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/Gesj-yean/vue-demo-collection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/vue-demo-collection/essays/" class="sidebar-heading clickable router-link-active"><span>随笔</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-demo-collection/essays/other/browser-compatibility.html" class="sidebar-link">浏览器兼容性记录2021-04-21 </a></li><li><a href="/vue-demo-collection/essays/other/new-begin.html" class="sidebar-link">前端装机必备教程</a></li><li><a href="/vue-demo-collection/essays/other/encapsulate-components.html" class="sidebar-link">前端如何修改组件库源码来封装符合自己需求的组件？</a></li><li><a href="/vue-demo-collection/essays/other/2021.html" class="sidebar-link">2021 年终总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/vue-demo-collection/essays/blog" class="sidebar-heading clickable router-link-active open"><span>其他</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-demo-collection/essays/blog/line-text.html" class="sidebar-link">CSS: flex 实现中间文字，两边横线（1px）</a></li><li><a href="/vue-demo-collection/essays/blog/css-style.html" class="sidebar-link">CSS: 《CSS揭秘》可实用代码笔记</a></li><li><a href="/vue-demo-collection/essays/blog/ECMAScript2021.html" class="sidebar-link">ECMAScript 2021新特性</a></li><li><a href="/vue-demo-collection/essays/blog/table-checkbox-show-tooltip.html" class="sidebar-link">Element-ui: 多选表格，当复选框禁用，鼠标覆盖显示 tooltip</a></li><li><a href="/vue-demo-collection/essays/blog/page-exit-block.html" class="sidebar-link">Vue 拦截离开页面操作</a></li><li><a href="/vue-demo-collection/essays/blog/edit-svg.html" class="sidebar-link">Vue 中可编辑的 SVG  Icon 组件</a></li><li><a href="/vue-demo-collection/essays/blog/custom-vuepress.html" aria-current="page" class="active sidebar-link">VuePress 之自定义主题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuepress-开发个人博客进阶之自定义主题"><a href="#vuepress-开发个人博客进阶之自定义主题" class="header-anchor">#</a> VuePress 开发个人博客进阶之自定义主题</h1> <p><code>VuePress</code> 是一个以 Vue 驱动的主题系统的简约静态网站生成工具，最初的目的是用来支持 <code>Vue</code> 子项目的文档。但现在很多开发者都想要利用 <code>VuePress</code> 来搭建自己的博客，特别是对于 vue 的开发者来说，因为 <code>Vuepress</code> 的博客主题就是基于 <code>Vue</code> 的语法去开发的。</p> <p>官方提供的默认主题非常简洁，不能满足开发者定制个性化博客的需求，那怎么样自己写一个 <code>VuePress</code> <code>theme</code>  呢？相信有很多开发者已经尝试着去开发一个自定义主题，但由于vuepress的文档并不健全，很多地方没有说明，往往只能放弃。</p> <p>而本文介绍了如何开发 <code>VuePress</code> 自定义主题以及如何发布主题到 <code>npm</code> 上，帮你踩了 <code>Vuepress</code> 自定义主题开发博客的坑。</p> <h2 id="效果展示"><a href="#效果展示" class="header-anchor">#</a> 效果展示</h2> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d39d11ceced407f912ff31bd71b22d2~tplv-k3u1fbpfcp-zoom-1.image" alt=""> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3edd012ed81a4f59a129ddb55044b2ff~tplv-k3u1fbpfcp-zoom-1.image" alt=""> <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9ba54119a774662aefcf986d8ed7ec6~tplv-k3u1fbpfcp-zoom-1.image" alt=""> <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d0c4b2ab21c4086b5fc7faad6e66337~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p> <p>以上效果是我的个人博客中用到的主题样式 <code>vuepress-theme-mount</code>，后续会继续完善并开放出来。如果有同学感兴趣，这里是项目的 <a href="https://github.com/Gesj-yean/vuepress-theme-mount" target="_blank" rel="noopener noreferrer">github地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。有很多东西还没补充上去，愿意看的同学可以把它当成 <code>demo</code>。</p> <h2 id="开始"><a href="#开始" class="header-anchor">#</a> 开始</h2> <ol><li>新建 <code>vuepress</code> 文件夹。</li> <li>按照官方文档中 <a href="https://vuepress.docschina.org/guide/getting-started.html#%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">在已有项目中安装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法安装。</li> <li>对项目进行 <a href="https://vuepress.docschina.org/guide/basic-config.html#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-config-file" target="_blank" rel="noopener noreferrer">配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ol> <p>由于这一部分官方文档中说的很清楚，按照指引即可完成，不做赘述啦。完成上述步骤后，你的目录结构应该如下：</p> <div class="language- extra-class"><pre class="language-text"><code>vuepress
├─ docs
│  └─ README.md
├─ node_modules
├─ package-lock.json
└─ package.json
</code></pre></div><p>接着使用命令 <code>vuepress dev docs</code> 运行，显示的是包含 <code>hello Vuepress</code> 的页面和包含一个搜索框的 <code>header</code> 部分，以及根目录下 <code>README.md</code> 的内容。</p> <h2 id="自定义主题"><a href="#自定义主题" class="header-anchor">#</a> 自定义主题</h2> <p>接着我们要开始进入正题：写 <code>theme</code> 自定义的部分。</p> <h3 id="构建目录"><a href="#构建目录" class="header-anchor">#</a> 构建目录</h3> <p>接着，我们根据官方文档中 <a href="https://vuepress.vuejs.org/zh/theme/writing-a-theme.html#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">开发主题/目录结构<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 构建目录。</p> <ol><li>文档根目录下创建一个 <code>.vuepress/theme</code> 目录，然后创建它的子目录。</li></ol> <div class="language- extra-class"><pre class="language-text"><code>theme
├── global-components //该目录下的组件都会被自动注册为全局组件
│   └── xxx.vue
├── components        // Vue 组件
│   └── xxx.vue
├── layouts           // 布局组件，其中 Layout.vue 是必需的
│   ├── Layout.vue (必要的)
│   └── 404.vue
├── styles            // 全局的样式和调色板
│   ├── index.styl
│   └── palette.styl
├── index.js         // 主题文件的入口文件
└── enhanceApp.js    // 主题水平的客户端增强文件
</code></pre></div><p>建好以上目录后（注意没有<code>package.json</code> 和 <code>template</code> 文件夹），运行一下 <code>vuepress dev docs</code> 发现是空白的，说明我们的 <code>layout.vue</code> 已经生效了。</p> <ol start="2"><li>在 <code>theme/index.js</code> 中加入：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
   // ...
}
</code></pre></div><h3 id="开发-layout-vue"><a href="#开发-layout-vue" class="header-anchor">#</a> 开发 layout.vue</h3> <p>接下来，我们就可以按照自己想要的布局在 <code>layout.vue</code> 中开发了。需要用到的组件都写到 <code>theme/components</code> 下，在 <code>layout.vue</code> 中引入即可。</p> <p>例如，我想要我的整体布局分成 <code>main</code>、<code>content</code>、<code>footer</code> 部分。</p> <div class="language- extra-class"><pre class="language-text"><code>theme
├── components        // Vue 组件
│   ├── Header.vue 
│   └── Footer.vue

</code></pre></div><p>在 <code>layout.vue</code> 正常引入即可：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div&gt;
    &lt;Header /&gt;
    &lt;Content /&gt;
    &lt;Footer /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Header from &quot;../components/Header&quot;
import Footer from &quot;../components/Footer&quot;

export default {
  components: {
    Header,
    Footer
  }
};
&lt;/script&gt;
</code></pre></div><p>写好后， 运行 <code>npm run docs:dev</code> 即可看见你的页面。接下来就像写一个正常的 <code>vue</code> 项目一样，开始写你自己的博客主题了。</p> <h3 id="将第三方-ui-集成到主题中"><a href="#将第三方-ui-集成到主题中" class="header-anchor">#</a> 将第三方 UI 集成到主题中</h3> <p>这里以开发顶部导航栏为例，示范安装第三方库 <code>element-ui</code> 及使用。</p> <p>cd 到 theme 目录下，运行命令安装：<code>npm i element-ui -S</code>。</p> <p>这里推荐按需引入，需要安装 <code>babel-plugin-component</code>，运行命令安装 :<code>npm install babel-plugin-component -D</code>。</p> <p>然后，<code>theme</code> 目录下新建 <code>.babelrc</code> 并修改为：</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;presets&quot;: [[&quot;es2015&quot;, { &quot;modules&quot;: false }]],
  &quot;plugins&quot;: [
    [
      &quot;component&quot;,
      {
        &quot;libraryName&quot;: &quot;element-ui&quot;,
        &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;
      }
    ]
  ]
}
</code></pre></div><p>接下来，如果你只希望引入部分组件，比如 <code>Menu</code> ，那么需要在 <code>enhanceApp.js</code> 中写入以下内容：</p> <div class="language- extra-class"><pre class="language-text"><code>import {
  Menu,
  Submenu,
  MenuItem,
  MenuItemGroup
} from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
export default ({
  Vue, // VuePress 正在使用的 Vue 构造函数
  options, // 附加到根实例的一些选项
  router, // 当前应用的路由实例
  siteData // 站点元数据
}) =&gt; {
  Vue.use(Menu)
  Vue.use(Submenu)
  Vue.use(MenuItem)
  Vue.use(MenuItemGroup)
}
</code></pre></div><p>以上步骤安装好之后，就可以在组件中使用，方法和普通的 <code>vue</code> 项目一样。</p> <h3 id="使用vuepress-官方插件"><a href="#使用vuepress-官方插件" class="header-anchor">#</a> 使用vuepress 官方插件</h3> <p>这里以开发顶部导航栏为例，示范安装插件 <code>search</code> 框及使用。插件的安装在 <a href="https://vuepress.vuejs.org/zh/plugin/official/plugin-search.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中已经说明的很清楚，这里示范一下。</p> <h4 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h4> <div class="language- extra-class"><pre class="language-text"><code>yarn add -D @vuepress/plugin-search
# OR npm install -D @vuepress/plugin-search
</code></pre></div><h4 id="配置插件"><a href="#配置插件" class="header-anchor">#</a> 配置插件</h4> <p>在 <code>.vuepress/config.js</code> 中：</p> <div class="language- extra-class"><pre class="language-text"><code>// .vuepress/config.js or themePath/index.js
module.exports = {
  plugins: [
    ['@vuepress/search', {
      searchMaxSuggestions: 10
    }]
  ]
}
</code></pre></div><h4 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h4> <p><code>search</code> 插件将自动注入指向搜索组件的 <code>webpack</code> 别名 <code>@SearchBox</code>，可以直接在 <code>layout</code> 组件中使用它：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div class=&quot;foo-layout&quot;&gt;
    &lt;header&gt;
      &lt;SearchBox/&gt;
    &lt;/header&gt;
    &lt;main&gt;
      ...
    &lt;/main&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import SearchBox from '@SearchBox'

export default {
  components: { SearchBox }
}
&lt;/script&gt;
</code></pre></div><h3 id="自定义主题需要手动引入markdown样式"><a href="#自定义主题需要手动引入markdown样式" class="header-anchor">#</a> 自定义主题需要手动引入Markdown样式</h3> <p>在 <code>&lt;Content&gt;</code> 中显示的Markdown文件是没有任何样式的，这需要我们自己写一个Markdown样式，但是这样真的太费力气。我们不如去找一份自己喜欢的样式。于是在 <code>typora</code> 上找到一份主题 <a href="http://theme.typora.io/theme/Maize/" target="_blank" rel="noopener noreferrer"><code>Maize</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，添加到 <code>style</code> 文件夹下并引入后效果对比：</p> <blockquote><p><code>vuepress</code> 自定义主题时，帮我们去掉了所有 <code>Markdown</code> 相关的样式。所以 <code>Markdown样式</code> 需要自己引入。</p></blockquote> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0cec868e280940018ddf93f2c014e82c~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p> <p>引入后可以显示样式，确实好看了很多：</p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39fe1bab554e496fbd9684d42e5e61fc~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p> <h3 id="如何进行页面路由跳转"><a href="#如何进行页面路由跳转" class="header-anchor">#</a> 如何进行页面路由跳转</h3> <p>关于页面间路由跳转，这个点应该是大多数同学放弃的原因。要踩的坑真的巨大，其实是这样的：在你的文档下 <code>README.md</code> 是默认的页面，那么我们就需要思考其他 <code>md</code> 文件该如何去显示。</p> <p>官方的文档中是这样子的：</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b8a414353924b1383ee03dd01c98d6c~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p> <p>也就是说当我们想要进入 <code>非README.md</code> 的文件时，以 <code>config.md</code> 为例，我们需要跳转到 <code>/guide/config.md</code>，前提是你知道 <code>README.md</code>的路径是<code>/guide/</code>。那这就好办了，<code>vuepress</code> 对于 <code>$router</code> 是支持的，就是说我们可以直接使用 <code>vue</code> 的路由跳转，不同是我们不用再去写<code>router.js</code> 文件规划路由。</p> <p>那么用 <code>this.$router.push('/guide/config.md')</code> 即可跳转到其他文件的页面。</p> <p>上述的路径则通过 <code>this.$site.pages</code> 可以获取，具体每个页面的内容可以通过 <code>this.$page</code> 获取。</p> <p>由于默认进入的是文件夹下 <code>README.md</code> 设置的 <code>layout</code> 布局，想要在这个布局里获取其他文件的信息，只能够 <code>Front Matter</code> 通过透传，如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>---
layout: RecordLayout
description: '这里有一些技巧，可以帮助你更好地优化 JavaScript 代码，从而提高性能。'
---
</code></pre></div><blockquote><p>在 <code>非README.md</code> 中的 <code>Front Matter</code> 输入信息，然后在 <code>README.md</code> 设置的布局中的 <code>frontmatter</code> 对象拿到信息。</p></blockquote> <h3 id="更换-favicon-icon"><a href="#更换-favicon-icon" class="header-anchor">#</a> 更换 <code>favicon.icon</code></h3> <p>在 <code>config.js</code> 中添加以下代码，并在 <code>public</code> 文件夹中添加 <code>favicon.ico</code> 图标，注意这里不要使用其他格式的图片，否则会显示不出来。</p> <div class="language- extra-class"><pre class="language-text"><code>
  head: [
    ['link', { rel: 'shortcut icon', type: &quot;image/x-icon&quot;, href: &quot;/favicon.ico&quot; }]
  ]
</code></pre></div><h3 id="文章最后更新时间"><a href="#文章最后更新时间" class="header-anchor">#</a> 文章最后更新时间</h3> <p>如果你使用默认主题，你无需安装本插件，因为 VuePress 的 core 中已经包含此插件。这里需要安装：</p> <div class="language- extra-class"><pre class="language-text"><code>npm i @vuepress/last-updated
</code></pre></div><ul><li>在config.js中添加引入：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
  plugins: ['@vuepress/last-updated']
}
</code></pre></div><p>关于最新更新时间插件的实现方式，这里有 <a href="https://vuepress.vuejs.org/zh/plugin/official/plugin-last-updated.html" target="_blank" rel="noopener noreferrer">传送门<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="简述-components-和-global-components-的区别"><a href="#简述-components-和-global-components-的区别" class="header-anchor">#</a> 简述 components 和 global-components 的区别</h3> <p>这里简述一下 <code>components</code> 和 <code>global-components</code> 的区别：<code>components</code> 所定义的组件仅在 <code>theme</code> 下生效，而 <code>global-components</code> 下定义的组件不仅局限于 <code>theme</code> 而且在 <code>docs</code> 目录下的 <code>md</code> 文件中可以直接使用。</p> <p>例如，<code>docs/README.md</code> 中：</p> <div class="language- extra-class"><pre class="language-text"><code># Hello VuePress!
&lt;ComponentsTest /&gt;         // 不显示
&lt;GlobalComponentsTest /&gt;   // 显示
</code></pre></div><h3 id="一个项目中多个布局"><a href="#一个项目中多个布局" class="header-anchor">#</a> 一个项目中多个布局</h3> <p>如果你的首页和博客页想应用不同主题，需要在 <code>theme/layouts</code> 下定义多个布局如 <code>HomeLayout.vue</code>，但 <code>Layout.vue</code> 必须保留。默认会应用 <code>Layout.vue</code> 布局。那如何使用 <code>HomeLayout.vue</code> 中的布局呢？</p> <p>例如，<code>docs/README.md</code> 中这样写即可：</p> <div class="language- extra-class"><pre class="language-text"><code>---
layout: HomeLayout
---
# Hello VuePress!
</code></pre></div><h3 id="如何发布你的主题到npm"><a href="#如何发布你的主题到npm" class="header-anchor">#</a> 如何发布你的主题到npm</h3> <p>发布主题到<code>npm</code>:</p> <ul><li>将你的主题推送到 <code>github</code> 仓库，这里的主题是指 <code>.vuepress</code> 文件夹下所有内容需要推送到 <code>github</code>。</li> <li>在 npm 上注册 <code>https://www.npmjs.com/</code>，填入信息并验证邮箱。</li> <li>进入要发布的项目根目录 <code>.vuepress</code>，初始化为 <code>npm</code> 包：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm init
</code></pre></div><ul><li>依次按提示填入包名、版本、描述、<code>github</code> 地址、关键字、license等，你的主题命名可以是 <code>vuepress-theme-</code> 开头的，这样别人引用时可以简写成 <code>vuepress-theme-</code> 后面的字段。</li> <li>在本地登录你的 <code>npm</code> 账号，并输入账号信息：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm login
</code></pre></div><ul><li>将你的包发布，成功的话就可以在npm上搜索到你发布的包了~</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm publish
</code></pre></div><ul><li>这样就可以搜索到我的主题 <code>vuepress-theme-mount</code> ：
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c633d5bbad554de4b97e81ca9f560c77~tplv-k3u1fbpfcp-zoom-1.image" alt=""></li></ul> <h3 id="如何使用自定义主题-以-vuepress-theme-mount-为例"><a href="#如何使用自定义主题-以-vuepress-theme-mount-为例" class="header-anchor">#</a> 如何使用自定义主题，以 <code>vuepress-theme-mount</code> 为例</h3> <ul><li><p>在本地新建文件夹 <code>vuepress-starter</code>，包含以下目录结构：
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42f5baaaac694f0098013cae237b8812~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p></li> <li><p>在目录下安装包：</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm init
npm i vuepress-theme-mount
</code></pre></div><ul><li>在config.js中输入：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// .vuepress/config.js
module.exports = {
  theme: 'mount'  // or 'vuepress-theme-mount'
}
</code></pre></div><ul><li>在 package.json 中加入，并使用命令 <code>vuepress dev docs</code> 运行项目，即可打开你的博客。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;scripts&quot;: {
    &quot;docs:dev&quot;: &quot;vuepress dev docs&quot;,
    &quot;docs:build&quot;: &quot;vuepress build docs&quot;
  }
}
</code></pre></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>如果不是像我一样想尝试 <code>vuepress</code> 搭建博客，建议还是使用成熟的博客系统，因为 <code>vuepress</code> 真的不是很适合用来搭建博客系统，需要踩的坑非常多，比如关于路由跳转的问题文档没有明确说明。如果还有其他关于自定义主题的问题可以留言。</p> <p>最后，踩坑不易，欢迎鼓励。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/21/2022, 5:24:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-demo-collection/essays/blog/edit-svg.html" class="prev">
        Vue 中可编辑的 SVG  Icon 组件
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-demo-collection/assets/js/app.f5b96e8e.js" defer></script><script src="/vue-demo-collection/assets/js/7.ac4e68a0.js" defer></script><script src="/vue-demo-collection/assets/js/62.951cb72d.js" defer></script>
  </body>
</html>
